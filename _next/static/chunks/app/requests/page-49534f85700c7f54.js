(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{4823:function(e,t,s){Promise.resolve().then(s.bind(s,4034))},4034:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(4304),n=s(6013),l=s(495),i=s(7776),c=s(1647),d=s(6463);let o=async e=>{let t=await fetch(e);if(!t.ok)throw Error("Failed to load requests");return t.json()};function u(){var e,t;let s=(0,d.useRouter)(),{data:u,mutate:m}=(0,r.ZP)("/api/requests",o,{refreshInterval:1e4}),x=(null!==(e=null==u?void 0:u.received)&&void 0!==e?e:[]).filter(e=>"pending"===((null==e?void 0:e.status)||"pending")),f=null!==(t=null==u?void 0:u.sent)&&void 0!==t?t:[],h=async(e,t)=>{u&&m({...u,received:(u.received||[]).filter(t=>t.id!==e)},!1);let a=await fetch("/api/requests/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(a.ok){let e;try{let t=await a.json();e=null==t?void 0:t.matchId}catch(e){}"accepted"===t&&e?i.Am.success("Request accepted",{action:{label:"Open chat",onClick:()=>s.push("/chat/".concat(e))}}):i.Am.success("Request ".concat(t)),m()}else u&&m(u,!1),i.Am.error("Unable to update request")};return(0,a.jsxs)("div",{className:"mt-8 grid gap-6 md:grid-cols-2",children:[(0,a.jsx)(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"space-y-4 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Received"}),0===x.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No incoming requests yet."}),x.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-100 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.q,{src:e.senderPhoto,alt:null!==(t=e.senderName)&&void 0!==t?t:"User",className:"h-10 w-10"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:null!==(s=e.senderName)&&void 0!==s?s:"User"}),e.isNew&&(0,a.jsx)("span",{className:"rounded-full bg-brand-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-brand-700",children:"NEW"})]}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"wants to connect"})]})]}),(0,a.jsx)("p",{className:"text-sm text-slate-700",children:e.message}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.z,{size:"sm",onClick:()=>h(e.id,"accepted"),children:"Accept"}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>h(e.id,"declined"),children:"Decline"})]})]},e.id)})]})}),(0,a.jsx)(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"space-y-4 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Sent"}),0===f.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"You have not sent any requests yet."}),f.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-100 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(c.q,{src:e.receiverPhoto,alt:null!==(t=e.receiverName)&&void 0!==t?t:"User",className:"h-10 w-10"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium text-slate-900",children:null!==(s=e.receiverName)&&void 0!==s?s:"User"}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"requested"})]})]}),(0,a.jsx)("p",{className:"text-sm text-slate-700",children:e.message}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.status})]},e.id)})]})})]})}function m(){return(0,a.jsx)("div",{className:"min-h-screen bg-sand-50",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-4xl px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Mentorship requests"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Review requests you have sent and received."}),(0,a.jsx)(u,{})]})})}},1647:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var a=s(7437);s(2265);var r=s(6648),n=s(4655);function l(e){let{src:t,alt:s,fallback:l,className:i,...c}=e;return(0,a.jsx)("div",{className:(0,n.cn)("relative flex h-14 w-14 items-center justify-center overflow-hidden rounded-full bg-brand-100 text-brand-700",i),...c,children:t?(0,a.jsx)(r.default,{src:t,alt:s,fill:!0,className:"object-cover",sizes:"56px"}):(0,a.jsx)("span",{className:"text-lg font-semibold",children:null!=l?l:s.substring(0,2).toUpperCase()})})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(7437),r=s(2265),n=s(1538),l=s(3027),i=s(4655);let c=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 text-sm font-semibold transition-all duration-200 ease-out active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60",{variants:{variant:{default:"bg-brand-500 text-white shadow-soft hover:bg-brand-600",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",ghost:"text-brand-600 hover:bg-brand-50",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(c({variant:r,size:l,className:s})),ref:t,...o})});d.displayName="Button"},6013:function(e,t,s){"use strict";s.d(t,{Zb:function(){return l},aY:function(){return i}});var a=s(7437),r=s(2265),n=s(4655);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-2xl border border-slate-100 bg-white shadow-soft transition duration-300 ease-out will-change-transform hover:-translate-y-0.5 hover:shadow-soft",s),...r})});l.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-500",s),...r})}).displayName="CardDescription";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});i.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},4655:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),r=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},3027:function(e,t,s){"use strict";s.d(t,{j:function(){return l}});var a=s(4839);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,l=(e,t)=>s=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:i}=t,c=Object.keys(l).map(e=>{let t=null==s?void 0:s[e],a=null==i?void 0:i[e];if(null===t)return null;let n=r(t)||r(a);return l[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,a]=t;return void 0===a||(e[s]=a),e},{});return n(e,c,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:s,className:a,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...d}[t]):({...i,...d})[t]===s})?[...e,s,a]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[868,776,32,648,971,23,744],function(){return e(e.s=4823)}),_N_E=e.O()}]);