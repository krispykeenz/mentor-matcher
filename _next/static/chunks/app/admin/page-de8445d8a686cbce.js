(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{1941:function(e,t,s){Promise.resolve().then(s.bind(s,4948))},4948:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),a=s(4304),n=s(6013),i=s(495),l=s(7776);let o=async e=>{let t=await fetch(e);if(!t.ok)throw Error("Unauthorized");return t.json()};function d(){var e;let{data:t,mutate:s,error:d}=(0,a.ZP)("/api/admin/reports",o,{refreshInterval:15e3}),c=null!==(e=null==t?void 0:t.reports)&&void 0!==e?e:[],u=async(e,t,r)=>{(await fetch("/api/admin/reports/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t,action:r})})).ok?(l.Am.success("Report updated"),s()):l.Am.error("Unable to update report")};return d?(0,r.jsx)("p",{className:"mt-6 text-sm text-red-600",children:"You need admin access to view this page."}):(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[0===c.length&&(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"No reports at this time."}),c.map(e=>(0,r.jsx)(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"space-y-3 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:e.category}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:e.details})]}),(0,r.jsx)("span",{className:"text-xs uppercase text-slate-500",children:e.status})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.z,{size:"sm",onClick:()=>u(e.id,"actioned","warn"),children:"Warn"}),(0,r.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>u(e.id,"actioned","suspend"),children:"Suspend"})]})]})},e.id))]})}function c(){return(0,r.jsx)("div",{className:"min-h-screen bg-sand-50",children:(0,r.jsxs)("div",{className:"mx-auto w-full max-w-5xl px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Admin Console"}),(0,r.jsx)("p",{className:"text-sm text-slate-600",children:"Moderate reports, manage feature flags, and keep the community safe."}),(0,r.jsx)(d,{})]})})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(1538),i=s(3027),l=s(4655);let o=(0,i.j)("inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 text-sm font-semibold transition-all duration-200 ease-out active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60",{variants:{variant:{default:"bg-brand-500 text-white shadow-soft hover:bg-brand-600",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",ghost:"text-brand-600 hover:bg-brand-50",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},6013:function(e,t,s){"use strict";s.d(t,{Zb:function(){return i},aY:function(){return l}});var r=s(7437),a=s(2265),n=s(4655);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-2xl border border-slate-100 bg-white shadow-soft transition duration-300 ease-out will-change-transform hover:-translate-y-0.5 hover:shadow-soft",s),...a})});i.displayName="Card",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("space-y-1.5 p-6",s),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900",s),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-slate-500",s),...a})}).displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});l.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},4655:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(4839),a=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},3027:function(e,t,s){"use strict";s.d(t,{j:function(){return i}});var r=s(4839);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=r.W,i=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==s?void 0:s[e],r=null==l?void 0:l[e];if(null===t)return null;let n=a(t)||a(r);return i[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return n(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...d}[t]):({...l,...d})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[868,776,32,971,23,744],function(){return e(e.s=1941)}),_N_E=e.O()}]);